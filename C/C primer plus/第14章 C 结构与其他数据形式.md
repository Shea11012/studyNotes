#### 复合字面量和结构

```c
struct book {
    char title[20];
    char author[20];
    float value;
}

(struct book) {"A","B",6.99}
```

#### 伸缩型数组

伸缩型数组特性：该数组不会立即存在

声明伸缩型数组规则

- 伸缩性数组成员必须是结构的最后一个成员
- 结构中必须至少有一个成员
- 伸缩数组声明类似于普通数组，方括号中是空的

```c
struct flex {
    int count;
    double average;
    double scores[]; // 伸缩数组
}
```



## 联合 

联合 union 也是一种数据类型，它能再同一个内存空间中储存不同的数据类型（不是同时储存）。使用联合类型的数组，其中的联合大小相等，每个联合可以储存各种数据类型。

```c
union hold {
    int digit;
    double bigfl;
    char letter;
}

# 联合的用法
union hold fit;
fit.digit = 23; // 把 23 储存再 fit，占 2 字节
fit.bigfl = 2.0; // 清除 23，储存 2.0，占 8 字节
fit.letter = 'h'; // 清除 2.0 储存 h，占 1 字节
```



## 枚举类型

枚举类型声明符号表示整型常量，enum 常量是 int 类型。只要使用 int 类型的地方就可以使用枚举类型。枚举类型的目的是提高程序的可读性。

```c
enum spectrum {
    red,
    orange,
    yellow,
    green,
    blue,
    violet
}
```



#### 成员运算符：.

> 该运算符与结构变量或联合变量名一起使用，指定结构变量或联合变量的一个成员

#### 间接成员运算符： ->

> 该运算符和指向结构或联合的指针一起使用，标识结构变量或联合变量的一个成员



## typedef 

typedef  可以为某一类型自定义名称

与 `#define` 不同之处：

- typedef 创建的符号名只受限于类型，不能用于值
- typedef 由编译器解释，不是预处理器
- 在其受限范围内，typedef 比 #define 更灵活

```c
typedef unsigned char BYTE; // 自定义 BYTE 名称表示 1 字节数组
BYTE x,y[10],*z; // 定义完后可以使用定义的类型
```

这种定义的作用域取决于 typedef 定义所在的位置。定义在函数内，具有局部作用域。定义在函数外部，具有文件作用域。



## 复杂的声明

| 符号 | 含义         |
| ---- | ------------ |
| *    | 表示一个指针 |
| ()   | 表示一个函数 |
| []   | 表示一个数组 |

**tips：**

> 指针数组：可以说成是 指针的数组，首先这个变量是一个数组，其次指针修饰这个数组，意思是说这个数组的所有元素都是指针类型
>
> 数组指针：可以说成是 数组的指针，首先这个变量是一个指针，其次数组修饰这个指针，意思是说这个指针存放着一个数组的首地址，或者说这个指针指向一个数组的首地址

**符号优先级：**

1. 数组后面的 [] 和函数名后面的 () 具有相同的优先级，比 *(解引用运算符)的优先级高：

   `int *risks[10]` **声明 risk 是一个指针数组**

2. [] 和 () 优先级相同，都是从左往右结合 `int (*rusks)[10]` **声明 rusk 是一个数组指针**

示例：

```c
int board[8][8];	// 声明一个二维数组，其值类型为 int
int **ptr;	// 声明一个指向指针的指针，被指向的指针指向 int
int *risks[10]; // 声明一个内含 10 个元素的数组，每个元素的数组都是一个指向 int 的指针
int *oof[3][4]; // 声明一个 3x4 的二维数组，每个元素都是指向 int 类型的指针
int (*uuf)[3][4]; // 声明 uuf 是一个 int 类型指针指向一个 3x4 的二维数组
int (*uof[3])[4]; // 声明 uof 是一个内含 3 个元素的指针数组，每个指针都指向了一个内含 4 个 int 类型的元素数组

// 函数
char *fump(int); // 返回字符指针的函数
char (*frump)(int); // 指向函数的指针，该函数的返回类型为 char
char (*frump[3])(int); // 内含 3 个指针的数组，每个指针都指向返回类型为 char 的函数

// typedef
typedef int arr5[5]; // 内含5个int类型的数组
typedef arr5 *p_arr5; // 指向数组的指针，该数组内含5个int类型的值
typedef p_arr5 arrp10[10]; // 内含10个指针数组，每个指针指向一个内含5个int类型的数组
```

