<!doctype html>
<html>
<head>
    <title>
        
        03-AcceptanceTests - Codeception - Documentation
        
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

    <!-- CSS -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/css/codeception.css">
    <link rel="stylesheet" href="/css/contributors.css">
    <link rel="stylesheet" href="/css/algolia.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/syntax.css">
    <!-- SCRIPTS -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="/js/jquery.toc.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="/js/contributors.js" type="text/javascript" charset="utf-8"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.2.0/list.min.js"></script>
    <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>    

    <!-- Other -->
    <link title="Codeception Blog" type="application/rss+xml" rel="alternate" href="/rss.xml">
    <link rel="shortcut icon" href="/images/favicon.png">
    <link rel="author" href="https://plus.google.com/+Codeception">
</head>

<body>
    
    <div class="banner hide-small hide-xs">

       
            <a href="https://sdclabs.com/trainings/schedule"> Training: Web test automation with Codeception online, 21.10.2019-22.10.2019, 11:00 GMT+3 DST </a>
              

    </div>

    

    
    
    
    <nav class="navbar nav-custom navbar-inverse">


        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="/" class="navbar-brand">
                  <svg width="81" height="60" style="vertical-align: middle" viewBox="0 0 81 60" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M35.6058 29.2295L22.5186 19.676L34.8582 40.2759L80.9997 2.21027L35.6058 29.2295ZM29.9915 54.4923C16.4012 54.4923 5.38429 43.4968 5.38429 29.9331C5.38429 16.3696 16.4012 5.37379 29.9915 5.37379C36.0092 5.37379 41.5198 7.53284 45.7954 11.1129L49.2448 7.00516C44.0311 2.63716 37.3154 0 29.9915 0C13.4539 0 0 13.428 0 29.9331C0 46.4384 13.4539 59.8664 29.9915 59.8664C38.5677 59.8664 46.3089 56.2494 51.7802 50.4701L47.8767 46.7908C43.3907 51.5302 37.0395 54.4923 29.9915 54.4923ZM29.9915 47.3736C20.3405 47.3736 12.517 39.5654 12.517 29.9332C12.517 20.301 20.3405 12.4925 29.9915 12.4925C34.2649 12.4925 38.176 14.0285 41.2122 16.5709L43.8017 13.4869C40.0621 10.3536 35.2448 8.46205 29.9915 8.46205C18.1291 8.46205 8.47842 18.0939 8.47842 29.9332C8.47842 41.7722 18.1291 51.404 29.9915 51.404C36.1431 51.404 41.696 48.8095 45.6204 44.6642L42.6838 41.8966C39.4983 45.2619 34.9967 47.3736 29.9915 47.3736Z" fill="#236BFD"/>
</svg>CODECEPTION_</a>
            </div>            

            <div class="collapse navbar-collapse menu ">


                <ul class="nav navbar-nav navbar-right">
                    <li><a href="/quickstart">QuickStart</a></li>                      
                    <li class="dropdown docs-dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#"> Docs
                            <b class="caret"></b>
                        </a>                        
                        <ul class="dropdown-menu  multi-column columns-3">
                          <div class="container">
                            <div class="row">
                                <div class="col-sm-4 guides-wrapper">
                                
                                  <ul class="multi-column-dropdown">
                                  <li><h4>Guides</h4></li>
                                  <li><a href="/docs/01-Introduction">Introduction</a></li><li><a href="/docs/02-GettingStarted">Getting Started</a></li><li><a href="/docs/03-AcceptanceTests">Acceptance Tests</a></li><li><a href="/docs/04-FunctionalTests">Functional Tests</a></li><li><a href="/docs/05-UnitTests">Unit Tests</a></li><li><a href="/docs/06-ModulesAndHelpers">Modules And Helpers</a></li><li><a href="/docs/06-ReusingTestCode">Reusing Test Code</a></li><li><a href="/docs/07-AdvancedUsage">Advanced Usage</a></li><li><a href="/docs/07-BDD">BDD</a></li><li><a href="/docs/08-Customization">Customization</a></li><li><a href="/docs/09-Data">Data</a></li><li><a href="/docs/10-APITesting">API Testing</a></li><li><a href="/docs/11-Codecoverage">Codecoverage</a></li><li><a href="/docs/12-ContinuousIntegration">Continuous Integration</a></li><li><a href="/docs/12-ParallelExecution">Parallel Execution</a></li>
                                  <li role="separator" class="divider"></li>
                                  <li><a href="/video">Video</a></li>
                                  </ul>
                                </div>

                                <div class="col-sm-6">
                                  <ul class="dropdown-modules multi-column-dropdown">
                                  <h4>Modules</h4>
                                  <li><a href="/docs/modules/AMQP">AMQP</a></li><li><a href="/docs/modules/Phalcon">Phalcon</a></li><li><a href="/docs/modules/Apc">Apc</a></li><li><a href="/docs/modules/PhpBrowser">PhpBrowser</a></li><li><a href="/docs/modules/Asserts">Asserts</a></li><li><a href="/docs/modules/Queue">Queue</a></li><li><a href="/docs/modules/Cli">Cli</a></li><li><a href="/docs/modules/REST">REST</a></li><li><a href="/docs/modules/DataFactory">DataFactory</a></li><li><a href="/docs/modules/Redis">Redis</a></li><li><a href="/docs/modules/Db">Db</a></li><li><a href="/docs/modules/SOAP">SOAP</a></li><li><a href="/docs/modules/Doctrine2">Doctrine2</a></li><li><a href="/docs/modules/Sequence">Sequence</a></li><li><a href="/docs/modules/FTP">FTP</a></li><li><a href="/docs/modules/Symfony">Symfony</a></li><li><a href="/docs/modules/Filesystem">Filesystem</a></li><li><a href="/docs/modules/WebDriver">WebDriver</a></li><li><a href="/docs/modules/Laravel5">Laravel5</a></li><li><a href="/docs/modules/Yii2">Yii2</a></li><li><a href="/docs/modules/Lumen">Lumen</a></li><li><a href="/docs/modules/ZF2">ZF2</a></li><li><a href="/docs/modules/Memcache">Memcache</a></li><li><a href="/docs/modules/ZendExpressive">ZendExpressive</a></li><li><a href="/docs/modules/MongoDb">MongoDb</a></li>
                                  </ul>
                                </div>

                                <div class="col-sm-2">
                                  <ul class="multi-column-dropdown"
                                  <li><h4>Reference</h4></li>
                                  <li><a href="/install">Install</a></li>
                                  <li><a href="/docs/reference/Configuration">Configuration</a></li>
                                  <li><a href="/extensions">Extensions</a></li>
                                  <li><a href="/docs/reference/Commands">Commands</a></li></a></li>
                                   <li role="separator" class="divider"></li>
                                  <li><h4>Util Classes</h4></li>
                                  <li><a href="/docs/reference/Autoload">Autoload</a></li><li><a href="/docs/reference/Fixtures">Fixtures</a></li><li><a href="/docs/reference/Functions">Functions</a></li><li><a href="/docs/reference/HttpCode">HttpCode</a></li><li><a href="/docs/reference/InitTemplate">InitTemplate</a></li><li><a href="/docs/reference/JsonType">JsonType</a></li><li><a href="/docs/reference/Locator">Locator</a></li><li><a href="/docs/reference/Mock">Mock</a></li><li><a href="/docs/reference/Module">Module</a></li><li><a href="/docs/reference/Stub">Stub</a></li><li><a href="/docs/reference/XmlBuilder">XmlBuilder</a></li>
                                  </ul>
                                </div>
                            </div>
                        </ul>
                    </li>
                    <li>
                        <a href="/changelog">Releases</a>
                    </li>                    
                    <li>
                        <a href="/blog">Blog</a>
                    </li>                    
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="http://phptest.club/category/codeception">
                            Use Cases
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">

                            <li><a href="/for/symfony">Symfony</a></li>                            
                            <li><a href="/for/laravel">Laravel</a></li>
                            <li><a href="/for/yii">Yii Framework</a></li>
                            <li><a href="/for/wordpress">WordPress</a></li>
                            <li><a href="/for/joomla">Joomla</a></li>
                            </ul>
                    </li>

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="http://phptest.club">
                            Community
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">

                            <li><a href="/credits"><strong>Credits</strong></a></li>
                            <li><a href="/addons">Addons</a></li>
                            <li><a href="http://phptest.club/c/codeception/cookbook">Cookbook</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="https://join.slack.com/t/codeception/shared_invite/enQtMzE2MzgxNzM1OTUzLTcwMmMxZjMxYTdkMzljMzNjNmNiNWQ0NGNjNTY0MjJlNWNjOTI0ZWU0Mjg4YmE5NTI0MmMwNDZmNzRhOTZmNWE">Join our Slack</a></
                            <li><a href="https://twitter.com/codeception">Follow us in Twitter</a></li>
                            <li><a href="https://www.facebook.com/pages/Codeception/288959711204412">Page in Facebook</a></li>

                            <li role="separator" class="divider"></li>
                            <li><a href="http://phptest.club/category/codeception">Forum @ PHPTestClub</a></li>
                            <li><a href="http://automated-testing.info/category/codeception">Russian Forum @ AT.info</a></li>
                            <li><a href="https://stackoverflow.com/questions/tagged/codeception">StackOverflow</a></li>
                            <li><a href="https://github.com/codeception/codeception/issues">GitHub Issues</a></li>
                            </ul>
                    </li>                    
                    
                    <li class="hidden-xs">
                        <a href="https://twitter.com/codeception" style="padding: 0; padding-right: 5px; padding-top: 5px;"><img src="/images/twitter.png" alt="Twitter" title="Follow us in Twitter to recieve updates!" style="height: 40px; float: right;"> </a>


                    </li>    
    
                    <li  class="hidden-xs">
                        <a href="https://github.com/codeception/codeception" style="padding: 0; padding-right: 5px; padding-top: 5px;"><img src="/images/github.png" alt="GitHub" style="height: 40px; float: right;"> </a>
                    </li>
                </ul>
            </div>
        </div> <!-- /.container -->
    </nav>



    

    <!-- CONTENT -->
    <div class="container-fluid">
        <div class="row pt">
  <div class="col-sm-3 col-lg-3">

    <div>


    <input type="text" class="algolia__input js-algolia__input" autocomplete="off" name="query" placeholder="Search in docs..." />

    <hr>

    <h3>Guides</h3>    

  <ol class="guides">    
      <li><a href="/docs/01-Introduction">Introduction</a></li><li><a href="/docs/02-GettingStarted">Getting Started</a></li><li><a href="/docs/03-AcceptanceTests">Acceptance Tests</a></li><li><a href="/docs/04-FunctionalTests">Functional Tests</a></li><li><a href="/docs/05-UnitTests">Unit Tests</a></li><li><a href="/docs/06-ModulesAndHelpers">Modules And Helpers</a></li><li><a href="/docs/06-ReusingTestCode">Reusing Test Code</a></li><li><a href="/docs/07-AdvancedUsage">Advanced Usage</a></li><li><a href="/docs/07-BDD">BDD</a></li><li><a href="/docs/08-Customization">Customization</a></li><li><a href="/docs/09-Data">Data</a></li><li><a href="/docs/10-APITesting">API Testing</a></li><li><a href="/docs/11-Codecoverage">Codecoverage</a></li><li><a href="/docs/12-ContinuousIntegration">Continuous Integration</a></li><li><a href="/docs/12-ParallelExecution">Parallel Execution</a></li>

  </ol>

  <hr>

      <p><a href="http://sdclabs.com/codeception?utm_source=codeception.com&utm_medium=docs_left&utm_term=link&utm_campaign=reference" class="btn btn-default doc-btn">Enterprise support</a></p>
      <p><a href="http://sdclabs.com/trainings?utm_source=codeception.com&utm_medium=docs_left&utm_term=link&utm_campaign=reference" class="btn btn-default doc-btn">Trainings </a>
      </p>
  </div>


</div>
  <div class="col-sm-12 col-lg-6">


    <div class="content page">
      <div>



        <div id="page">


          <div class="algolia__search-content js-algolia__search-content">
            <h1 class="page-title">Search</h1>
            <div class="posts algolia__results"></div>
          </div>

          <div class="algolia__initial-content js-algolia__initial-content">

            <h1 id="acceptance-testing">Acceptance Testing</h1>

<p>Acceptance testing can be performed by a non-technical person. That person can be your tester, manager or even client.
If you are developing a web-application (and you probably are) the tester needs nothing more than a web browser
to check that your site works correctly. You can reproduce an acceptance tester’s actions in scenarios
and run them automatically. Codeception keeps tests clean and simple
as if they were recorded from the words of an actual acceptance tester.</p>

<p>It makes no difference what (if any) CMS or framework is used on the site. You can even test sites created with different
languages, like Java, .NET, etc. It’s always a good idea to add tests to your website.
At least you will be sure that site features work after the latest changes were made.</p>

<h2 id="sample-scenario">Sample Scenario</h2>

<p>Let’s say the first test you would want to run, would be signing in.
In order to write such a test, we still require basic knowledge of PHP and HTML:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/login'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'username'</span><span class="p">,</span> <span class="s1">'davert'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'password'</span><span class="p">,</span> <span class="s1">'qwerty'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'LOGIN'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Welcome, Davert!'</span><span class="p">);</span></code></pre></figure>

<p><strong>This scenario can be performed either by PhpBrowser or by a “real” browser through Selenium WebDriver</strong>.</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>PhpBrowser</th>
      <th>WebDriver</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Browser Engine</td>
      <td>Guzzle + Symfony BrowserKit</td>
      <td>Chrome or Firefox</td>
    </tr>
    <tr>
      <td>JavaScript</td>
      <td>No</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">see</code>/<code class="highlighter-rouge">seeElement</code> checks if…</td>
      <td>…text is present in the HTML source</td>
      <td>…text is actually visible to the user</td>
    </tr>
    <tr>
      <td>Read HTTP response headers</td>
      <td>Yes</td>
      <td>No</td>
    </tr>
    <tr>
      <td>System requirements</td>
      <td>PHP with <a href="https://php.net/manual/book.curl.php">cURL extension</a></td>
      <td>Selenium Standalone Server, Chrome or Firefox</td>
    </tr>
    <tr>
      <td>Speed</td>
      <td>Fast</td>
      <td>Slow</td>
    </tr>
  </tbody>
</table>

<p>We will start writing our first acceptance tests with PhpBrowser.</p>

<h2 id="phpbrowser">PhpBrowser</h2>

<p>This is the fastest way to run acceptance tests since it doesn’t require running an actual browser.
We use a PHP web scraper, which acts like a browser: It sends a request, then receives and parses the response.
Codeception uses <a href="http://guzzlephp.org">Guzzle</a> and <a href="https://symfony.com/doc/current/components/browser_kit.html">Symfony BrowserKit</a> to interact with HTML web pages.</p>

<p>Common PhpBrowser drawbacks:</p>

<ul>
  <li>You can only click on links with valid URLs or form submit buttons</li>
  <li>You can’t fill in fields that are not inside a form</li>
</ul>

<p>We need to specify the <code class="highlighter-rouge">url</code> parameter in the acceptance suite config:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># acceptance.suite.yml</span>
<span class="na">actor</span><span class="pi">:</span> <span class="s">AcceptanceTester</span>
<span class="na">modules</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">PhpBrowser</span><span class="pi">:</span>
            <span class="na">url</span><span class="pi">:</span> <span class="s">http://www.example.com/</span>
        <span class="pi">-</span> <span class="s">\Helper\Acceptance</span></code></pre></figure>

<p>We should start by creating a test with the next command:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"> <span class="nx">vendor</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">codecept</span> <span class="nx">g</span><span class="o">:</span><span class="nx">cest</span> <span class="nx">acceptance</span> <span class="nx">Signin</span></code></pre></figure>

<p>It will be placed into <code class="highlighter-rouge">tests/acceptance</code> directory.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">SigninCest</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">tryToTest</span><span class="p">(</span><span class="nx">AcceptanceTester</span> <span class="nv">$I</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>The <code class="highlighter-rouge">$I</code> object is used to write all interactions.
The methods of the <code class="highlighter-rouge">$I</code> object are taken from the <a href="https://codeception.com/docs/modules/PhpBrowser">PhpBrowser Module</a>. We will briefly describe them here:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/login'</span><span class="p">);</span></code></pre></figure>

<p>We will assume that all actions starting with <code class="highlighter-rouge">am</code> and <code class="highlighter-rouge">have</code> describe the initial environment.
The <code class="highlighter-rouge">amOnPage</code> action sets the starting point of a test to the <code class="highlighter-rouge">/login</code> page.</p>

<p>With the <code class="highlighter-rouge">PhpBrowser</code> you can click the links and fill in the forms. That will probably be the majority of your actions.</p>

<h4 id="click">Click</h4>

<p>Emulates a click on valid anchors. The URL referenced in the <code class="highlighter-rouge">href</code> attribute will be opened.
As a parameter, you can specify the link name or a valid CSS or XPath selector.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Log in'</span><span class="p">);</span>
<span class="c1">// CSS selector applied
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'#login a'</span><span class="p">);</span>
<span class="c1">// XPath
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'//a[@id=login]'</span><span class="p">);</span>
<span class="c1">// Using context as second argument
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Login'</span><span class="p">,</span> <span class="s1">'.nav'</span><span class="p">);</span></code></pre></figure>

<p>Codeception tries to locate an element by its text, name, CSS or XPath.
You can specify the locator type manually by passing an array as a parameter. We call this a <strong>strict locator</strong>.
Available strict locator types are:</p>

<ul>
  <li>id</li>
  <li>name</li>
  <li>css</li>
  <li>xpath</li>
  <li>link</li>
  <li>class</li>
</ul>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// By specifying locator type
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">([</span><span class="s1">'link'</span> <span class="o">=&gt;</span> <span class="s1">'Login'</span><span class="p">]);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">([</span><span class="s1">'class'</span> <span class="o">=&gt;</span> <span class="s1">'btn'</span><span class="p">]);</span></code></pre></figure>

<p>There is a special class <a href="https://codeception.com/docs/reference/Locator"><code class="highlighter-rouge">Codeception\Util\Locator</code></a>
which may help you to generate complex XPath locators.
For instance, it can easily allow you to click an element on the last row of a table:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Edit'</span> <span class="p">,</span> <span class="nx">\Codeception\Util\Locator</span><span class="o">::</span><span class="na">elementAt</span><span class="p">(</span><span class="s1">'//table/tr'</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">));</span></code></pre></figure>

<h4 id="forms">Forms</h4>

<p>Clicking links is probably not what takes the most time during the testing of a website.
The most routine waste of time goes into the testing of forms. Codeception provides several ways of testing forms.</p>

<p>Let’s submit this sample form inside the Codeception test:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">"/update"</span> <span class="na">id=</span><span class="s">"update_form"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_name"</span><span class="nt">&gt;</span>Name<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"user[name]"</span> <span class="na">id=</span><span class="s">"user_name"</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_email"</span><span class="nt">&gt;</span>Email<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"user[email]"</span> <span class="na">id=</span><span class="s">"user_email"</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"user_gender"</span><span class="nt">&gt;</span>Gender<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"user_gender"</span> <span class="na">name=</span><span class="s">"user[gender]"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"m"</span><span class="nt">&gt;</span>Male<span class="nt">&lt;/option&gt;</span>
          <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"f"</span><span class="nt">&gt;</span>Female<span class="nt">&lt;/option&gt;</span>
     <span class="nt">&lt;/select&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">name=</span><span class="s">"submitButton"</span> <span class="na">value=</span><span class="s">"Update"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p>From a user’s perspective, a form consists of fields which should be filled in, and then a submit button clicked:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// we are using label to match user_name field
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'Name'</span><span class="p">,</span> <span class="s1">'Miles'</span><span class="p">);</span>
<span class="c1">// we can use input name or id
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'user[email]'</span><span class="p">,</span><span class="s1">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d9b4b0b5bcaa99bdb8afb0aaf7bab6b4">[email&#160;protected]</a>'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">selectOption</span><span class="p">(</span><span class="s1">'Gender'</span><span class="p">,</span><span class="s1">'Male'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Update'</span><span class="p">);</span></code></pre></figure>

<p>To match fields by their labels, you should write a <code class="highlighter-rouge">for</code> attribute in the <code class="highlighter-rouge">label</code> tag.</p>

<p>From the developer’s perspective, submitting a form is just sending a valid POST request to the server.
Sometimes it’s easier to fill in all of the fields at once and send the form without clicking a ‘Submit’ button.
A similar scenario can be rewritten with only one command:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">submitForm</span><span class="p">(</span><span class="s1">'#update_form'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'user'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
     <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Miles'</span><span class="p">,</span>
     <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'Davis'</span><span class="p">,</span>
     <span class="s1">'gender'</span> <span class="o">=&gt;</span> <span class="s1">'m'</span>
<span class="p">)));</span></code></pre></figure>

<p>The <code class="highlighter-rouge">submitForm</code> is not emulating a user’s actions, but it’s quite useful
in situations when the form is not formatted properly, for example, to discover that labels aren’t set
or that fields have unclean names or badly written IDs, or the form is sent by a JavaScript call.</p>

<p>By default, <code class="highlighter-rouge">submitForm</code> doesn’t send values for buttons.  The last parameter allows specifying
what button values should be sent, or button values can be explicitly specified in the second parameter:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">submitForm</span><span class="p">(</span><span class="s1">'#update_form'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'user'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
     <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Miles'</span><span class="p">,</span>
     <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'Davis'</span><span class="p">,</span>
     <span class="s1">'gender'</span> <span class="o">=&gt;</span> <span class="s1">'m'</span>
<span class="p">)),</span> <span class="s1">'submitButton'</span><span class="p">);</span>
<span class="c1">// this would have the same effect, but the value has to be explicitly specified
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">submitForm</span><span class="p">(</span><span class="s1">'#update_form'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'user'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
     <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Miles'</span><span class="p">,</span>
     <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'Davis'</span><span class="p">,</span>
     <span class="s1">'gender'</span> <span class="o">=&gt;</span> <span class="s1">'m'</span><span class="p">,</span>
     <span class="s1">'submitButton'</span> <span class="o">=&gt;</span> <span class="s1">'Update'</span>
<span class="p">)));</span></code></pre></figure>

<h5 id="hiding-sensitive-data">Hiding Sensitive Data</h5>

<p>If you need to fill in sensitive data (like passwords) and hide it in logs, 
you can pass instance <code class="highlighter-rouge">\Codeception\Step\Argument\PasswordArgument</code> with the data which needs to be hidden.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">\Codeception\Step\Argument\PasswordArgument</span><span class="p">;</span>

<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/form/password_argument'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'password'</span><span class="p">,</span> <span class="k">new</span> <span class="nx">PasswordArgument</span><span class="p">(</span><span class="s1">'thisissecret'</span><span class="p">));</span></code></pre></figure>

<p><code class="highlighter-rouge">thisissecret</code> will be filled into a form but it won’t be shown in output and logs.</p>

<h4 id="assertions">Assertions</h4>

<p>In the <code class="highlighter-rouge">PhpBrowser</code> you can test the page contents.
In most cases, you just need to check that the required text or element is on the page.</p>

<p>The most useful method for this is <code class="highlighter-rouge">see()</code>:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// We check that 'Thank you, Miles' is on the page.
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Thank you, Miles'</span><span class="p">);</span>
<span class="c1">// We check that 'Thank you, Miles' is inside an element with 'notice' class.
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Thank you, Miles'</span><span class="p">,</span> <span class="s1">'.notice'</span><span class="p">);</span>
<span class="c1">// Or using XPath locators
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Thank you, Miles'</span><span class="p">,</span> <span class="s2">"//table/tr[2]"</span><span class="p">);</span>
<span class="c1">// We check this message is *not* on the page.
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">dontSee</span><span class="p">(</span><span class="s1">'Form is filled incorrectly'</span><span class="p">);</span></code></pre></figure>

<p>You can check that a specific HTML element exists (or doesn’t) on a page:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeElement</span><span class="p">(</span><span class="s1">'.notice'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">dontSeeElement</span><span class="p">(</span><span class="s1">'.error'</span><span class="p">);</span></code></pre></figure>

<p>We also have other useful commands to perform checks. Please note that they all start with the <code class="highlighter-rouge">see</code> prefix:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeInCurrentUrl</span><span class="p">(</span><span class="s1">'/user/miles'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeCheckboxIsChecked</span><span class="p">(</span><span class="s1">'#agree'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeInField</span><span class="p">(</span><span class="s1">'user[name]'</span><span class="p">,</span> <span class="s1">'Miles'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeLink</span><span class="p">(</span><span class="s1">'Login'</span><span class="p">);</span></code></pre></figure>

<h4 id="conditional-assertions">Conditional Assertions</h4>

<p>Usually, as soon as any assertion fails, further assertions of this test will be skipped.
Sometimes you don’t want this - maybe you have a long-running test and you want it to run to the end.
In this case, you can use conditional assertions.
Each <code class="highlighter-rouge">see</code> method has a corresponding <code class="highlighter-rouge">canSee</code> method, and <code class="highlighter-rouge">dontSee</code> has a <code class="highlighter-rouge">cantSee</code> method:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">canSeeInCurrentUrl</span><span class="p">(</span><span class="s1">'/user/miles'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">canSeeCheckboxIsChecked</span><span class="p">(</span><span class="s1">'#agree'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">cantSeeInField</span><span class="p">(</span><span class="s1">'user[name]'</span><span class="p">,</span> <span class="s1">'Miles'</span><span class="p">);</span></code></pre></figure>

<p>Each failed assertion will be shown in the test results, but it won’t stop the test.</p>

<p>Conditional assertions are disabled in bootstrap setup. To enable them you should add corresponding step decorators to suite config:</p>

<blockquote>
  <p>If you started project as <code class="highlighter-rouge">codecept init acceptance</code> they should be already enabled in config</p>
</blockquote>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># in acceptance.suite.yml </span>
<span class="c1"># or in codeception.yml inside suites section</span>
<span class="na">step_decorators</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">\Codeception\Step\ConditionalAssertion</span></code></pre></figure>

<p>Then rebuild actors with <code class="highlighter-rouge">codecept build</code> command.</p>

<h4 id="comments">Comments</h4>

<p>Within a long scenario, you should describe what actions you are going to perform and what results should be achieved.
Comment methods like <code class="highlighter-rouge">amGoingTo</code>, <code class="highlighter-rouge">expect</code>, <code class="highlighter-rouge">expectTo</code> help you in making tests more descriptive:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amGoingTo</span><span class="p">(</span><span class="s1">'submit user form with invalid values'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'user[email]'</span><span class="p">,</span> <span class="s1">'miles'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Update'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">expect</span><span class="p">(</span><span class="s1">'the form is not submitted'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Form is filled incorrectly'</span><span class="p">);</span></code></pre></figure>

<h4 id="grabbers">Grabbers</h4>

<p>These commands retrieve data that can be used in the test. Imagine your site generates a password for every user
and you want to check that the user can log into the site using this password:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'email'</span><span class="p">,</span> <span class="s1">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="234e4a4f4650634742554a500d404c4e">[email&#160;protected]</a>'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Generate Password'</span><span class="p">);</span>
<span class="nv">$password</span> <span class="o">=</span> <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">grabTextFrom</span><span class="p">(</span><span class="s1">'#password'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Login'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'email'</span><span class="p">,</span> <span class="s1">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="385551545d4b785c594e514b165b5755">[email&#160;protected]</a>'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'password'</span><span class="p">,</span> <span class="nv">$password</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Log in!'</span><span class="p">);</span></code></pre></figure>

<p>Grabbers allow you to get a single value from the current page with commands:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">grabTextFrom</span><span class="p">(</span><span class="s1">'.token'</span><span class="p">);</span>
<span class="nv">$password</span> <span class="o">=</span> <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">grabTextFrom</span><span class="p">(</span><span class="s2">"descendant::input/descendant::*[@id = 'password']"</span><span class="p">);</span>
<span class="nv">$api_key</span> <span class="o">=</span> <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">grabValueFrom</span><span class="p">(</span><span class="s1">'input[name=api]'</span><span class="p">);</span></code></pre></figure>

<h4 id="cookies-urls-title-etc">Cookies, URLs, Title, etc</h4>

<p>Actions for cookies:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">setCookie</span><span class="p">(</span><span class="s1">'auth'</span><span class="p">,</span> <span class="s1">'123345'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">grabCookie</span><span class="p">(</span><span class="s1">'auth'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeCookie</span><span class="p">(</span><span class="s1">'auth'</span><span class="p">);</span></code></pre></figure>

<p>Actions for checking the page title:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeInTitle</span><span class="p">(</span><span class="s1">'Login'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">dontSeeInTitle</span><span class="p">(</span><span class="s1">'Register'</span><span class="p">);</span></code></pre></figure>

<p>Actions for URLs:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeCurrentUrlEquals</span><span class="p">(</span><span class="s1">'/login'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeCurrentUrlMatches</span><span class="p">(</span><span class="s1">'~^/users/(\d+)~'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeInCurrentUrl</span><span class="p">(</span><span class="s1">'user/1'</span><span class="p">);</span>
<span class="nv">$user_id</span> <span class="o">=</span> <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">grabFromCurrentUrl</span><span class="p">(</span><span class="s1">'~^/user/(\d+)/~'</span><span class="p">);</span></code></pre></figure>

<h2 id="webdriver">WebDriver</h2>

<p>A nice feature of Codeception is that most scenarios are similar, no matter of how they are executed.
<code class="highlighter-rouge">PhpBrowser</code> was emulating browser requests but how to execute such test in a real browser like Chrome or Firefox?
Selenium WebDriver can drive them so in our acceptance tests we can automate scenarios we used to test manually.
In such tests, we should concentrate more on <strong>testing the UI</strong> than on testing functionality.</p>

<p>“<a href="https://www.w3.org/TR/webdriver/">WebDriver</a>” is the name of a protocol (specified by W3C)
to drive browsers automatically. This specification is implemented for all modern desktop and mobile browsers.
Codeception uses <a href="https://github.com/facebook/php-webdriver">facebook/php-webdriver</a> library from Facebook as PHP implementation of WebDriver protocol.</p>

<p>To control the browsers you need to use a program or a service to start/stop browser sessions.
In the next section, we will overview the most popular solutions.</p>

<h3 id="local-setup">Local Setup</h3>

<h4 id="selenium-server">Selenium Server</h4>

<p><a href="http://www.seleniumhq.org/">Selenium Server</a> is a de-facto standard for automated web and mobile testing.
It is a server that can launch and drive different browsers locally or remotely.
WebDriver protocol was initially created by Selenium before becoming a W3C standard.
This makes Selenium server the most stable complete implementation of WebDriver for today.
Selenium Server is also recommended by Codeception team.</p>

<p>To control browsers Selenium Server uses official tools maintained by browser vendors, like <a href="https://sites.google.com/a/chromium.org/chromedriver">ChromeDriver</a> for Chrome or <a href="https://github.com/mozilla/geckodriver">GeckoDriver</a> for Firefox.
This makes Selenium quite heavy to install, as it requires Java, browsers, Chrome or GeckoDriver and GUI (display server) to run browsers in.</p>

<ul>
  <li>Follow <a href="https://codeception.com/docs/modules/WebDriver#Selenium">Installation Instructions</a></li>
  <li>Enable <a href="https://codeception.com/extensions#RunProcess">RunProcess</a> extension to start/stop Selenium automatically <em>(optional)</em>.</li>
</ul>

<h4 id="chromedriver">ChromeDriver</h4>

<p>ChromeDriver was created by Google to control Chrome and Chromium browsers programmatically.
It can be paired with <a href="https://codeception.com/docs/03-AcceptanceTests#Selenium-Server">Selenium Server</a> or used as a standalone tool to drive Chrome browser.
It is simpler to set up than Selenium Server, however, it has limited support for WebDriver protocol.</p>

<ul>
  <li>Follow <a href="https://codeception.com/docs/modules/WebDriver#ChromeDriver">Installation Instructions</a></li>
  <li>Enable <a href="https://codeception.com/extensions#RunProcess">RunProcess</a> extension to start/stop ChromeDriver automatically <em>(optional)</em>.</li>
</ul>

<h3 id="configuration">Configuration</h3>

<p>To execute a test in a browser we need to change the suite configuration to use <strong>WebDriver</strong> instead of <code class="highlighter-rouge">PhpBrowser</code>.</p>

<p>Modify your <code class="highlighter-rouge">acceptance.suite.yml</code> file:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">actor</span><span class="pi">:</span> <span class="s">AcceptanceTester</span>
<span class="na">modules</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">WebDriver</span><span class="pi">:</span>
            <span class="na">url</span><span class="pi">:</span> 
            <span class="na">browser</span><span class="pi">:</span> <span class="s">chrome</span>
        <span class="pi">-</span> <span class="s">\Helper\Acceptance</span></code></pre></figure>

<p>See <a href="https://codeception.com/docs/modules/WebDriver">WebDriver Module</a> for details.</p>

<p>Please note that actions executed in a browser will behave differently. For instance, <code class="highlighter-rouge">seeElement</code> won’t just check that the element exists on a page,
but it will also check that element is actually visible to the user:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeElement</span><span class="p">(</span><span class="s1">'#modal'</span><span class="p">);</span></code></pre></figure>

<p>While WebDriver duplicates the functionality of PhpBrowser, it has its limitations: It can’t check headers since browsers don’t provide APIs for that.
WebDriver also adds browser-specific functionality:</p>

<h4 id="wait">Wait</h4>

<p>While testing web application, you may need to wait for JavaScript events to occur. Due to its asynchronous nature,
complex JavaScript interactions are hard to test. That’s why you may need to use waiters, actions with <code class="highlighter-rouge">wait</code> prefix.
They can be used to specify what event you expect to occur on a page, before continuing the test.</p>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">waitForElement</span><span class="p">(</span><span class="s1">'#agree_button'</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span> <span class="c1">// secs
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'#agree_button'</span><span class="p">);</span></code></pre></figure>

<p>In this case, we are waiting for the ‘agree’ button to appear and then click it. If it didn’t appear after 30 seconds,
the test will fail. There are other <code class="highlighter-rouge">wait</code> methods you may use, like <a href="https://codeception.com/docs/modules/WebDriver#waitForText">waitForText</a>,
<a href="https://codeception.com/docs/modules/WebDriver#waitForElementVisible">waitForElementVisible</a> and others.</p>

<p>If you don’t know what exact element you need to wait for, you can simply pause execution with using <code class="highlighter-rouge">$I-&gt;wait()</code></p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="o">//</span> <span class="nx">wait</span> <span class="k">for</span> <span class="mi">3</span> <span class="nx">secs</span></code></pre></figure>

<h4 id="smartwait">SmartWait</h4>

<p>It is possible to wait for elements pragmatically.
If a test uses element which is not on a page yet, Codeception will wait for few extra seconds before failing.
This feature is based on <a href="http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp#implicit-waits">Implicit Wait</a> of Selenium.
Codeception enables implicit wait only when searching for a specific element and disables in all other cases. Thus, the performance of a test is not affected.</p>

<p>SmartWait can be enabled by setting <code class="highlighter-rouge">wait</code> option in WebDriver config. It expects the number of seconds to wait. Example:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">wait</span><span class="pi">:</span> <span class="s">5</span></code></pre></figure>

<p>With this config we have the following test:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// we use wait: 5 instead of
// $I-&gt;waitForElement(['css' =&gt; '#click-me'], 5);
// to wait for element on page
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">([</span><span class="s1">'css'</span> <span class="o">=&gt;</span> <span class="s1">'#click-me'</span><span class="p">]);</span></code></pre></figure>

<p>It is important to understand that SmartWait works only with a specific locators:</p>

<ul>
  <li><code class="highlighter-rouge">#locator</code> - CSS ID locator, works</li>
  <li><code class="highlighter-rouge">//locator</code> - general XPath locator, works</li>
  <li><code class="highlighter-rouge">['css' =&gt; 'button'']</code> - strict locator, works</li>
</ul>

<p>But it won’t be executed for all other locator types.
See the example:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Login'</span><span class="p">);</span> <span class="c1">// DISABLED, not a specific locator
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="s1">'davert'</span><span class="p">);</span> <span class="c1">// DISABLED, not a specific locator
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">([</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'password'</span><span class="p">],</span> <span class="s1">'123456'</span><span class="p">);</span> <span class="c1">// ENABLED, strict locator
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'#login'</span><span class="p">);</span> <span class="c1">// ENABLED, locator is CSS ID
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Hello, Davert'</span><span class="p">);</span> <span class="c1">// DISABLED, Not a locator
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeElement</span><span class="p">(</span><span class="s1">'#userbar'</span><span class="p">);</span> <span class="c1">// ENABLED
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">dontSeeElement</span><span class="p">(</span><span class="s1">'#login'</span><span class="p">);</span> <span class="c1">// DISABLED, can't wait for element to hide
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">seeNumberOfElements</span><span class="p">([</span><span class="s1">'css'</span> <span class="o">=&gt;</span> <span class="s1">'button.link'</span><span class="p">],</span> <span class="mi">5</span><span class="p">);</span> <span class="o">//</span> <span class="nx">DISABLED</span><span class="p">,</span> <span class="nx">can</span> <span class="nx">wait</span> <span class="nx">only</span> <span class="k">for</span> <span class="nx">one</span> <span class="nx">element</span></code></pre></figure>

<h4 id="retry">Retry</h4>

<p>When it’s hard to define condition to wait for, we can retry a command few times until it succeeds.
For instance, if you try to click while it’s animating you can try to do it few times until it freezes.
Since Codeception 3.0 each action and assertion have an alias prefixed with <code class="highlighter-rouge">retry</code> which allows to retry a flaky command.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">retryClick</span><span class="p">(</span><span class="s1">'flaky element'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">retrySee</span><span class="p">(</span><span class="s1">'Something changed'</span><span class="p">);</span></code></pre></figure>

<p>Retry can be configured via <code class="highlighter-rouge">$I-&gt;retry()</code> command, where you can set number of retries and initial interval:
interval will be doubled on each unsuccessful execution.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Retry up to 6 sec: 4 times, for 400ms initial interval =&gt; 400ms + 800ms + 1600ms + 3200ms = 6000ms
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">retry</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span></code></pre></figure>

<p><code class="highlighter-rouge">$I-&gt;retry</code> takes 2 parameters:</p>
<ul>
  <li>number of retries (1 by default)</li>
  <li>initial interval (200ms by default)</li>
</ul>

<p>Retries are disabled by default. To enable them you should add retry step decorators to suite config:</p>

<blockquote>
  <p>If you started project as <code class="highlighter-rouge">codecept init acceptance</code> they should be already enabled in config</p>
</blockquote>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># in acceptance.suite.yml </span>
<span class="c1"># or in codeception.yml inside suites section</span>
<span class="na">step_decorators</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">\Codeception\Step\Retry</span></code></pre></figure>

<p>Then add <code class="highlighter-rouge">\Codeception\Lib\Actor\Shared\Retry</code> trait into <code class="highlighter-rouge">AcceptanceTester</code> class:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">AcceptanceTester</span> <span class="k">extends</span> <span class="nx">\Codeception\Actor</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">_generated\AcceptanceTesterActions</span><span class="p">;</span>
    
    <span class="k">use</span> <span class="nx">\Codeception\Lib\Actor\Shared\Retry</span><span class="p">;</span> 
<span class="p">}</span></code></pre></figure>

<p>Run <code class="highlighter-rouge">codecept build</code> to recreate actions. New <code class="highlighter-rouge">retry*</code> actions are available for tests. 
Keep in mind, that you can change retry policy dynamically for each test.</p>

<h4 id="wait-and-act">Wait and Act</h4>

<p>To combine <code class="highlighter-rouge">waitForElement</code> with actions inside that element you can use the <a href="https://codeception.com/docs/modules/WebDriver#performOn">performOn</a> method.
Let’s see how you can perform some actions inside an HTML popup:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">performOn</span><span class="p">(</span><span class="s1">'.confirm'</span><span class="p">,</span> <span class="nx">\Codeception\Util\ActionSequence</span><span class="o">::</span><span class="na">build</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Warning'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Are you sure you want to delete this?'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Yes'</span><span class="p">)</span>
<span class="p">);</span></code></pre></figure>

<p>Alternatively, this can be executed using a callback, in this case the <code class="highlighter-rouge">WebDriver</code> instance is passed as argument</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">performOn</span><span class="p">(</span><span class="s1">'.confirm'</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">\Codeception\Module\WebDriver</span> <span class="nv">$I</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Warning'</span><span class="p">);</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Are you sure you want to delete this?'</span><span class="p">);</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Yes'</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<p>For more options see <a href="https://codeception.com/docs/modules/WebDriver#performOn"><code class="highlighter-rouge">performOn()</code> reference</a>.</p>

<h4 id="ab-testing">A/B Testing</h4>

<p>When a web site acts unpredictably you may need to react on that change.
This happens if site configured for A/B testing, or shows different popups, based on environment.</p>

<p>Since Codeception 3.0 you can have some actions to fail silently, is they are errored.
Let’s say, you open a page and some times there is a popup which should be closed. 
We may try to hit the “close” button but if this action fails (no popup on page) we just continue the test.</p>

<p>This is how it can be implemented:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/'</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">tryToClick</span><span class="p">(</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'.alert'</span><span class="p">);</span> 
<span class="o">//</span> <span class="k">continue</span> <span class="nx">execution</span></code></pre></figure>

<p>You can also use <code class="highlighter-rouge">tryTo</code> as condition for your tests:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">tryToSeeElement</span><span class="p">(</span><span class="s1">'.alert'</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">waitForText</span><span class="p">(</span><span class="s1">'Do you accept cookies?'</span><span class="p">);</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Yes'</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>A/B testing is disabled by default. To enable it you should add corresponding step decorators to suite config:</p>

<blockquote>
  <p>If you started project as <code class="highlighter-rouge">codecept init acceptance</code> in Codeception &gt;= 3.0 they should be already enabled in config</p>
</blockquote>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># in acceptance.suite.yml </span>
<span class="c1"># or in codeception.yml inside suites section</span>
<span class="na">step_decorators</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">\Codeception\Step\TryTo</span></code></pre></figure>

<p>Then rebuild actors with <code class="highlighter-rouge">codecept build</code> command.</p>

<h3 id="multi-session-testing">Multi Session Testing</h3>

<p>Codeception allows you to execute actions in concurrent sessions. The most obvious case for this
is testing realtime messaging between users on a site. In order to do it, you will need to launch two browser windows
at the same time for the same test. Codeception has a very smart concept for doing this. It is called <strong>Friends</strong>:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/messages'</span><span class="p">);</span>
<span class="nv">$nick</span> <span class="o">=</span> <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">haveFriend</span><span class="p">(</span><span class="s1">'nick'</span><span class="p">);</span>
<span class="nv">$nick</span><span class="o">-&gt;</span><span class="na">does</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">AcceptanceTester</span> <span class="nv">$I</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/messages/new'</span><span class="p">);</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">fillField</span><span class="p">(</span><span class="s1">'body'</span><span class="p">,</span> <span class="s1">'Hello all!'</span><span class="p">);</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="s1">'Send'</span><span class="p">);</span>
    <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Hello all!'</span><span class="p">,</span> <span class="s1">'.message'</span><span class="p">);</span>
<span class="p">});</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">wait</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="s1">'Hello all!'</span><span class="p">,</span> <span class="s1">'.message'</span><span class="p">);</span></code></pre></figure>

<p>In this case, we performed, or ‘did’, some actions in the second window with the <code class="highlighter-rouge">does</code> method on a friend object.</p>

<p>Sometimes you may want to close a webpage before the end of the test. For such cases, you may use <code class="highlighter-rouge">leave()</code>.
You can also specify roles for a friend:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$nickAdmin</span> <span class="o">=</span> <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">haveFriend</span><span class="p">(</span><span class="s1">'nickAdmin'</span><span class="p">,</span> <span class="nx">adminStep</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
<span class="nv">$nickAdmin</span><span class="o">-&gt;</span><span class="na">does</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">adminStep</span> <span class="nv">$I</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Admin does ...
</span><span class="p">});</span>
<span class="nv">$nickAdmin</span><span class="o">-&gt;</span><span class="na">leave</span><span class="p">();</span></code></pre></figure>

<p>Multi session testing is disabled by default. To enable it, add <code class="highlighter-rouge">\Codeception\Lib\Actor\Shared\Friend</code> into <code class="highlighter-rouge">AcceptancTester</code>.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">AcceptanceTester</span> <span class="k">extends</span> <span class="nx">\Codeception\Actor</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">_generated\AcceptanceTesterActions</span><span class="p">;</span>
    
    <span class="k">use</span> <span class="nx">\Codeception\Lib\Actor\Shared\Friend</span><span class="p">;</span> 
<span class="p">}</span></code></pre></figure>

<h3 id="cloud-testing">Cloud Testing</h3>

<p>Some environments are hard to be reproduced manually, testing Internet Explorer 6-8 on Windows XP may be a hard thing,
especially if you don’t have Windows XP installed. This is where Cloud Testing services come to help you.
Services such as <a href="https://saucelabs.com">SauceLabs</a>, <a href="https://www.browserstack.com/">BrowserStack</a>
and <a href="https://codeception.com/docs/modules/WebDriver#Cloud-Testing">others</a> can create virtual machines on demand
and set up Selenium Server and the desired browser. Tests are executed on a remote machine in a cloud,
to access local files cloud testing services provide a special application called <strong>Tunnel</strong>.
Tunnel operates on a secured protocol and allows browsers executed in a cloud to connect to a local web server.</p>

<p>Cloud Testing services work with the standard WebDriver protocol. This makes setting up cloud testing really easy.
You just need to set the <a href="https://codeception.com/docs/modules/WebDriver#Cloud-Testing">WebDriver configuration</a> to:</p>

<ul>
  <li>specify the host to connect to (depends on the cloud provider)</li>
  <li>authentication details (to use your account)</li>
  <li>browser</li>
  <li>OS</li>
</ul>

<p>We recommend using <a href="https://codeception.com/docs/06-ModulesAndHelpers#Dynamic-Configuration-With-Params">params</a>
to provide authorization credentials.</p>

<p>It should be mentioned that Cloud Testing services are not free. You should investigate their pricing models
and choose one that fits your needs. They also may work painfully slowly if ping times between the local server
and the cloud is too high. This may lead to random failures in acceptance tests.</p>

<h3 id="debugging">Debugging</h3>

<p>Codeception modules can print valuable information while running.
Just execute tests with the <code class="highlighter-rouge">--debug</code> option to see running details. For any custom output use the <code class="highlighter-rouge">codecept_debug</code> function:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nx">codecept_debug</span><span class="p">(</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">grabTextFrom</span><span class="p">(</span><span class="s1">'#name'</span><span class="p">));</span></code></pre></figure>

<p>On each failure, the snapshot of the last shown page will be stored in the <code class="highlighter-rouge">tests/_output</code> directory.
PhpBrowser will store the HTML code and WebDriver will save a screenshot of the page.</p>

<p>Additional debugging features by Codeception:</p>

<ul>
  <li><a href="https://codeception.com/docs/02-GettingStarted#Interactive-Pause">Interactive Pause</a> is a REPL that allows to type and check commands for instant feedback.</li>
  <li><a href="https://codeception.com/addons#CodeceptionExtensionRecorder">Recorder Extension</a> allows to record tests step-by-steps and show them in slideshow</li>
</ul>

<h3 id="common-cases">Common Cases</h3>

<p>Let’s see how common problems of acceptance testing can be solved with Codeception.</p>

<h4 id="login">Login</h4>

<p>It is recommended to put widely used actions inside an Actor class. A good example is the <code class="highlighter-rouge">login</code> action
which would probably be actively involved in acceptance or functional testing:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">AcceptanceTester</span> <span class="k">extends</span> <span class="nx">\Codeception\Actor</span>
<span class="p">{</span>
    <span class="c1">// do not ever remove this line!
</span>    <span class="k">use</span> <span class="nx">_generated\AcceptanceTesterActions</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">login</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$password</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$I</span> <span class="o">=</span> <span class="nv">$this</span><span class="p">;</span>
        <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/login'</span><span class="p">);</span>
        <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">submitForm</span><span class="p">(</span><span class="s1">'#loginForm'</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">'login'</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">,</span>
            <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="nv">$password</span>
        <span class="p">]);</span>
        <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="s1">'.navbar'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Now you can use the <code class="highlighter-rouge">login</code> method inside your tests:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// $I is AcceptanceTester
</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">login</span><span class="p">(</span><span class="s1">'miles'</span><span class="p">,</span> <span class="s1">'123456'</span><span class="p">);</span></code></pre></figure>

<p>However, implementing all actions for reuse in a single actor class may lead to
breaking the <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle">Single Responsibility Principle</a>.</p>

<h4 id="single-login">Single Login</h4>

<p>If you need to authorize a user for each test, you can do so by submitting the login form at the beginning of every test.
Running those steps takes time, and in the case of Selenium tests (which are slow by themselves)
that time loss can become significant.</p>

<p>Codeception allows you to share cookies between tests, so a test user can stay logged in for other tests.</p>

<p>Let’s improve the code of our <code class="highlighter-rouge">login</code> method, executing the form submission only once
and restoring the session from cookies for each subsequent login function call:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">login</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$password</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$I</span> <span class="o">=</span> <span class="nv">$this</span><span class="p">;</span>
        <span class="c1">// if snapshot exists - skipping login
</span>        <span class="k">if</span> <span class="p">(</span><span class="nv">$I</span><span class="o">-&gt;</span><span class="na">loadSessionSnapshot</span><span class="p">(</span><span class="s1">'login'</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// logging in
</span>        <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">amOnPage</span><span class="p">(</span><span class="s1">'/login'</span><span class="p">);</span>
        <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">submitForm</span><span class="p">(</span><span class="s1">'#loginForm'</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">'login'</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">,</span>
            <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="nv">$password</span>
        <span class="p">]);</span>
        <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">see</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="s1">'.navbar'</span><span class="p">);</span>
         <span class="c1">// saving snapshot
</span>        <span class="nv">$I</span><span class="o">-&gt;</span><span class="na">saveSessionSnapshot</span><span class="p">(</span><span class="s1">'login'</span><span class="p">);</span>
    <span class="p">}</span></code></pre></figure>

<p>Note that session restoration only works for <code class="highlighter-rouge">WebDriver</code> modules
(modules implementing <code class="highlighter-rouge">Codeception\Lib\Interfaces\SessionSnapshot</code>).</p>

<h3 id="custom-browser-sessions">Custom Browser Sessions</h3>

<p>By default, WebDriver module is configured to automatically start browser before the test and stop afterward.
However, this can be switched off with <code class="highlighter-rouge">start: false</code> module configuration.
To start a browser you will need to write corresponding methods in Acceptance <a href="https://codeception.com/docs/06-ModulesAndHelpers#Helpers">Helper</a>.</p>

<p>WebDriver module provides advanced methods for the browser session, however, they can only be used from Helpers.</p>

<ul>
  <li><a href="https://codeception.com/docs/modules/WebDriver#_initializeSession">_initializeSession</a> - starts a new browser session</li>
  <li><a href="https://codeception.com/docs/modules/WebDriver#_closeSession">_closeSession</a> - stops the browser session</li>
  <li><a href="https://codeception.com/docs/modules/WebDriver#_restart">_restart</a> - updates configuration and restarts browser</li>
  <li><a href="https://codeception.com/docs/modules/WebDriver#_capabilities">_capabilities</a> - set <a href="https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities">desired capabilities</a> programmatically.</li>
</ul>

<p>Those methods can be used to create custom commands like <code class="highlighter-rouge">$I-&gt;startBrowser()</code> or used in <a href="https://codeception.com/docs/06-ModulesAndHelpers#Hooks">before/after</a> hooks.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Writing acceptance tests with Codeception and PhpBrowser is a good start.
You can easily test your Joomla, Drupal, WordPress sites, as well as those made with frameworks.
Writing acceptance tests is like describing a tester’s actions in PHP. They are quite readable and very easy to write.
If you need to access the database, you can use the <a href="https://codeception.com/docs/modules/Db">Db Module</a>.</p>

<ul>
  <li><strong>Next Chapter: <a href="/docs/04-FunctionalTests">FunctionalTests &gt;</a></strong></li>
  <li><strong>Previous Chapter: <a href="/docs/02-GettingStarted">&lt; GettingStarted</a></strong></li>
</ul>


          </div>
        </div>
        <div class="alert alert-success">

Don't know how to write tests on your own? We will build or improve them for you. 
<strong>
  Request a quote for official 
         <a href="http://sdclabs.com/codeception?utm_source=codeception.com&utm_medium=docs_bottom&utm_term=link&utm_campaign=reference">enterprise support</a> or <a href="http://sdclabs.com/trainings?utm_source=codeception.com&utm_medium=docs_bottom&utm_term=link&utm_campaign=reference">trainings</a></strong>

</div>


      </div>
    </div>
  </div>

    <div class="col-sm-12 col-lg-3">

    <!-- <input type="search" class="search" placeholder="live search..."> -->
     <!-- toc.js generated nav... -->
     <div id="toc" class="nav"></div>

   <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
    $(document).ready(function () {
      $(".cp:contains('<?php')").css({ visibility : 'hidden' });
      $(".cp:contains('?>')").css({ visibility : 'hidden' });
      $('#page table').addClass('table table-striped table-bordered');
      $('#toc').toc({
        'selectors': 'h2,h3,h4',
        'prefix': 'toc',
        'container': '#page',
        //custom function for anchor name
        'anchorName': function(i, heading, prefix) {
          return $(heading).text().replace(/\s/g, '-').replace(/[^\w-]/g, '');
        },
      });
      // List.js
      $('#toc > ul').addClass('list');
      $('#toc ul.list li a').addClass('searchitem');
      var options = {
        valueNames: [ 'searchitem' ]
      };
      var userList = new List('searchable', options);
      // end List.js

    }); // docrdy
  </script>



    </div>
  </div>



    </div>

<div class="bugira d-none d-lg-block">
  <a href="https://www.bugira.com">
  <div class="container w-50" style="padding: 10px">
    <div class="row">
    <div class="col-md-5">
      <h3 class="">Not sure what to test?
      </h3>
      <p>
      Let your users tell you!
      </p>
    </div>
    <div class="col-md-2 text-center">
      <img style="height: 100px;" src="/images/bugira.svg"></img>
    </div>
    <div class="col-md-5 text-center">
      <h3 class="">Turn user feedback into tests</h3>
      <p>with <b>Bugira</b> Bugtracker</p>
    </div>
    </div>
  </div>
  </a>
</div>

    <div id="footer">
            <ul class="links">
                    <li>
                        <a href="/" class="footer-logo">
                        <h4>
                    <img src="/images/logo_footer.svg" alt="logo">Codeception_</h4></a></li>
                    <li><a href="/install">Installation</a></li>
                    <li><a href="/credits">Credits</a></li>
                    <li><a href="/changelog">Releases</a></li>
                    <li><a href="http://sdclabs.com/codeception?utm_source=codeception.com&utm_medium=bottom_menu&utm_term=link&utm_campaign=reference" >Enterprise Support</a></li>
                    <li><a href="http://sdclabs.com/trainings?utm_source=codeception.com&utm_medium=bottom_menu&utm_term=link&utm_campaign=reference" >Trainings</a></li>
            </ul>

<div class="container-fluid">
            <div class="row">
                <div class="col-sm-6 col-lg-3 col-md-offset-1">
                    <p>
                        Codeception is a BDD-styled PHP testing framework, brought to you by <a href="https://codeception.com/credits">Codeception Team</a>.
 OpenSource <strong>MIT Licensed</strong>.
                    </p>
                    

            </div>


            <div class="col-sm-6 col-lg-3 col-md-offset-1 text-center">

                        <a href="https://github.com/codeception/codeception" class="social">
                            <img src="/images/social/github-white.png">
                        </a>

                        <a href="https://twitter.com/codeception" class="social">
                            <img src="/images/social/twitter-white.png">
                        </a>

                        <a href="https://www.facebook.com/pages/Codeception/288959711204412" class="social">
                            <img src="/images/social/facebook-white.png">
                        </a>






            </div>

            <div class="col-sm-6 col-lg-4 text-center">
                    <h4>they support us_</h4>

                    <a href="https://www.jetbrains.com/phpstorm/"><img src="/images/PhpStorm.png" alt="PhpStorm" class="sponsors" style="width:100px;"></a>

                    <a href="https://www.rebilly.com/"><img src="/images/Rebilly.png"  class="sponsors" style="width:150px; background: #fff; border-radius: 20px;" alt="Your Partner
                        In Subscription Billing
                        Uncover your revenue potential with
                        our recurring billing software." title="Your Partner
                        In Subscription Billing"></a>


            </div>




  
      </div>
  </div>
  <div id="copyright">

<div>
Design made by  <a href="https://pizdata.is/">
<svg width="17" height="22" style="vertical-align: middle;" viewBox="0 0 17 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.1521 4.64018L13.5305 3.83959L12.2672 5.6787C11.3601 4.22562 9.35785 1.74674 5.75912 0.57675L3.98126 0L4.88607 1.58776C4.89702 1.60708 5.83747 3.28537 5.66941 5.11943L2.80415 3.48567L3.14267 5.05097C3.14982 5.08409 3.83233 8.3093 3.20491 11.3562C3.12457 11.421 3.01509 11.4774 2.86608 11.4774C2.63863 11.4774 2.13696 11.3484 1.33672 10.4825L0.283136 9.3428L0.0669574 10.8565C0.056478 10.9316 -0.934383 18.4053 5.07684 21.1622C6.18671 21.71 7.48187 22 8.8226 22H8.82308C11.2433 22 13.4927 21.0735 14.9939 19.4586C16.5583 17.7762 17.2281 15.4572 16.9315 12.7513C16.9202 12.2855 16.744 7.9779 14.1521 4.64018Z" fill="white"/>
</svg> <strong>Pizdata</strong></a>  
</div>


<div>
    © Codeception 2011&ndash;2019
</div>
</div>
</div>
</div>

<!-- SCRIPTS -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1899308-9']);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>

<script>
// Adding this layout functionality for mobile views with the homepage hero
$(document).ready(function(){
    $('.navbar-toggle').click(function(){
        $('.row.home').toggleClass('no-padding-top');
    });
});
</script>

<div class="visible-lg-block" style="position: fixed; right: 10px; bottom: 0px">
    
                                  <aside>
          <a href="https://twitter.com/codeception" class="twitter-follow-button" data-show-count="false"
          data-lang="en" data-size="large">Follow @Codeception</a>
          <script>!function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (!d.getElementById(id)) {
              js = d.createElement(s);
              js.id = id;
              js.src = "//platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js, fjs);
            }
          }(document, "script", "twitter-wjs");</script>
        </aside>

</div>

<script>
  window.ALGOLIA_CONFIG = {
    'applicationId': 'G160Y1N5OT',
    'indexName': 'codeception',
    'apiKey': 'c264188100c4fb7017c4f5702a7d4b8d',
    'baseurl': ''
  }
</script>
<script id="algolia__template" type="text/template">

  <div class="algolia__result">
    <a class="algolia__result-link" href="{{ full_url }}#algolia:{{ css_selector }}">{{{ _highlightResult.title.value }}}</a>
    {{#posted_at}}
    <div class="algolia__result-date">{{ posted_at_readable }}</div>
    {{/posted_at}}
    <div class="algolia__result-text">{{{ _highlightResult.text.value }}}</div>
  </div>

</script>
<script id="algolia__template--no-results" type="text/template">
  No results found.
</script>
<script src="//cdn.jsdelivr.net/algoliasearch/3.6.0/algoliasearch.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch.helper/2.1.0/algoliasearch.helper.min.js"></script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="//cdn.jsdelivr.net/momentjs/2.10.3/moment.min.js"></script>
<script src="/js/algolia.js" type="text/javascript" charset="utf-8"></script>


</body>
</html>
