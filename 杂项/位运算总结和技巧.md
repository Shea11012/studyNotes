### 位运算基本概念

1. 二进制的最高位是符号位：0 表示正数，1 表示负数
2. 正数的原码，反码，补码都一样
3. 负数的反码 = 它的原码符号位不变，其它位取反（0->1,1->0）
4. 负数的补码 = 它的反码+1
5. 0 的反码，补码都是0
6. 计算机在运算时，都是以补码的方式在运算

tips：PHP 没有无符号数，换言之，PHP 中的数都是有符号的。

运算步骤：原码->反码->补码（仅针对于负数），正数的原码，反码，补码都一样

### 二进制加减乘除运算法则

#### 减法：

> 0 - 0 = 1 - 1 = 0
>
> 1 - 0 = 1
>
> 0 - 1 = 1（向高位借位）

#### 加法：

> 0 + 0 = 0
>
> 0 + 1 = 1 + 0 = 1
>
> 1 + 1 = 0（向高位进位）

#### 乘法：

> 0 * 0 = 0
>
> 0 * 1 = 1 * 0 = 0
>
> 1 * 1 = 1

#### 除法：

> 0 / 1 = 0（1 / 0 无意义）
>
> 1 / 1 = 1

### &（与） 运算

通常用于二进制取位操作，如： `num & 1` 结果就是取二进制的最末位。这可以用来判断一个整数的奇偶，二进制的最末位为 0 表示该数为偶数，为 1 表示该数为奇数，（与运算同位同时为 1，结果才为 1，否则为 0）

**tips：**

> 同位同为 1，则为1，同位同为 0，则为 0，同位相反，则为 1

### |（或） 运算

通常用于二进制特定位上的无条件赋值，如 `num | 1` 的结果就是把二进制最末位强行变成 1，对这个数 or 1 之后再减 1 就可以了，其实际意义就是把这个数强行变成最接近的偶数。（或运算同位只要有一个为 1，其值为 1）

### ^（异或） 运算

通常用于对二进制的特定一位进行取反操作，因为异或可以这样定义：0 和 1 异或 0 都不变，异或 1 则取反，如：

```python
a = 3
b = 4
a^=b^=a^=b	// 一些语言可以这样写
// 一些语言得分开写
a ^= b
b ^= a
a ^= b 
```

其实际意义就是不用临时变量交换两个数 （异或运算，如果同位,值不同，则该结果为 1，否则为 0）

例:

```c
0^0 = 0
0^1 = 1
1^0 = 1
1^1 = 0
```



### ~（取反） 运算

是把内存中的 0 和 1 全部取反

### << （左移） 运算

a << b ，表示将 a 的位向左移动 b 次（每一次移动都表示乘以 2），实际上就是 a 乘以 2 的 b 次方，乘以 2 的操作尽量用左移一位代替

### >> （右移）运算

a >> b，表示将 a 的位向右移动 b 次（每次移动都表示除以 2），相当于 a 除以 2 的 b 次方（取整）。常用语 二分查找、堆的插入操作，也可以代替取余运算

